<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wie Doet De Pamper? - Baby Till</title>
    <style>
        /* Global & Baby Theme CSS */
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif; /* Een speels lettertype */
            background-color: #e0f7fa; /* Zacht babyblauw */
            color: #333;
            text-align: center;
            padding: 20px;
            margin: 0;
            overflow: hidden; /* Om te voorkomen dat het rad buiten beeld rolt */
        }

        h1, h2 {
            color: #ff8a80; /* Zacht roze voor accent */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            border: 5px dashed #a7ffeb; /* Speelse rand */
        }

        .baby-details p {
            font-size: 1.2em;
            font-weight: bold;
            color: #4db6ac;
        }

        /* Spinning Wheel (Rad) CSS */
        .wheel-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
            position: relative; /* Belangrijk voor positionering van de pijl */
        }

        .wheel {
            width: 350px; /* Groter wiel voor meer segmenten en leesbaarheid */
            height: 350px;
            border-radius: 50%;
            background-image: conic-gradient(
                #ffcc80 0deg 45deg,    /* Fran 1 */
                #80d8ff 45deg 90deg,   /* Vince 1 */
                #ffcc80 90deg 135deg,  /* Fran 2 */
                #80d8ff 135deg 180deg, /* Vince 2 */
                #ffcc80 180deg 225deg, /* Fran 3 */
                #80d8ff 225deg 270deg, /* Vince 3 */
                #ffcc80 270deg 315deg, /* Fran 4 */
                #80d8ff 315deg 360deg  /* Vince 4 */
            );
            border: 10px solid #ff8a80;
            position: relative;
            transition: transform 5s cubic-bezier(0.25, 0.1, 0.25, 1); /* Soepele draaibeweging */
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }

        .wheel-segment {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px; /* Vaste breedte om tekst te centreren */
            height: 25px; /* Vaste hoogte */
            margin-top: -12.5px; /* De helft van de hoogte om verticaal te centreren */
            margin-left: -50px; /* De helft van de breedte om horizontaal te centreren */
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
            transform-origin: 50% 100%; /* Draaipunt aan de onderkant van het segment */
        }

        /* Segment kleuren */
        .segment-fran { color: #d84315; } /* Donkerder oranje/rood */
        .segment-vince { color: #01579b; } /* Donkerder blauw */

        /* Positioning for each segment */
        /* Rotate the segment container and then translate it out from the center */
        /* Each segment is 45deg. We rotate by (index * 45deg) + 22.5deg (to center in segment) */
        /* Translate-y moves it from the center of the wheel outwards. Adjusted for new wheel size. */
        #seg0 { transform: rotate(22.5deg) translateY(-140px); }
        #seg1 { transform: rotate(67.5deg) translateY(-140px); }
        #seg2 { transform: rotate(112.5deg) translateY(-140px); }
        #seg3 { transform: rotate(157.5deg) translateY(-140px); }
        #seg4 { transform: rotate(202.5deg) translateY(-140px); }
        #seg5 { transform: rotate(247.5deg) translateY(-140px); }
        #seg6 { transform: rotate(292.5deg) translateY(-140px); }
        #seg7 { transform: rotate(337.5deg) translateY(-140px); }

        /* Indicator for the selected name */
        .indicator {
            position: absolute;
            top: 0px; /* Positioneer bovenaan de wheel-container */
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent; /* Grotere pijl */
            border-right: 20px solid transparent;
            border-top: 30px solid #ff0000; /* Duidelijk rode pijl */
            z-index: 20; /* Zorg dat deze boven het wiel staat */
            margin-top: -20px; /* Trek de pijl iets omhoog zodat de punt op de rand wijst */
        }

        /* Center circle for decoration */
        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background-color: #ff8a80; /* Roze in het midden */
            border-radius: 50%;
            border: 5px solid #ffffff;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            z-index: 15; /* Tussen de segmenten en de pijl */
        }


        /* Button CSS (ongewijzigd) */
        #spin-button {
            background-color: #ff8a80;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.5em;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px #d84315;
            transition: background-color 0.3s, box-shadow 0.1s;
        }

        #spin-button:hover {
            background-color: #ffab91;
        }

        #spin-button:active {
            box-shadow: 0 2px #d84315;
            transform: translateY(2px);
        }
        
        #spin-button:disabled {
            background-color: #cccccc;
            box-shadow: none;
            cursor: not-allowed;
        }

        /* Modal Overlay CSS (ongewijzigd) */
        #result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8); /* Donkere, doorzichtige achtergrond */
            display: none; /* Standaard verborgen */
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .result-box {
            background-color: #a7ffeb; /* Zacht mintgroene achtergrond */
            color: #333;
            padding: 50px;
            border-radius: 25px;
            text-align: center;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            max-width: 80%;
            border: 8px solid #ff8a80;
        }

        .result-box h2 {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .result-box p {
            font-size: 2em;
            font-weight: bold;
            color: #d84315;
            margin-top: 0;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üë∂ Pamper Loterij van **Till** üçº</h1>
        <div class="baby-details">
            <p>Welkom bij het moment van de waarheid! Wie van jullie twee mag de **luier** van onze lieve jongen **Till** verschonen?</p>
        </div>

        <div class="wheel-container">
            <h2>Wie doet de luier?</h2>
            <div class="indicator"></div> <div id="wheel" class="wheel">
                <span id="seg0" class="wheel-segment segment-fran">FRAN</span>
                <span id="seg1" class="wheel-segment segment-vince">VINCE</span>
                <span id="seg2" class="wheel-segment segment-fran">FRAN</span>
                <span id="seg3" class="wheel-segment segment-vince">VINCE</span>
                <span id="seg4" class="wheel-segment segment-fran">FRAN</span>
                <span id="seg5" class="wheel-segment segment-vince">VINCE</span>
                <span id="seg6" class="wheel-segment segment-fran">FRAN</span>
                <span id="seg7" class="wheel-segment segment-vince">VINCE</span>
                <div class="center-circle"></div> </div>
            <button id="spin-button">Draaien maar!</button>
        </div>
    </div>

    <div id="result-overlay">
        <div class="result-box">
            <h2 id="result-title"></h2>
            <p id="winner-text"></p>
            <button id="reset-button" onclick="resetWheel()">Opnieuw proberen?</button>
        </div>
    </div>

    <script>
        const wheel = document.getElementById('wheel');
        const spinButton = document.getElementById('spin-button');
        const resultOverlay = document.getElementById('result-overlay');
        const resultTitle = document.getElementById('result-title');
        const winnerText = document.getElementById('winner-text');

        // De 8 segmenten en hun winnende naam en rotatiebereik (relatief aan de pijl boven, 0 graden)
        // Elk segment is 45 graden breed. Fran en Vince wisselen af.
        const segments = [
            { name: 'Fran', min: 0, max: 45, center: 22.5 },
            { name: 'Vince', min: 45, max: 90, center: 67.5 },
            { name: 'Fran', min: 90, max: 135, center: 112.5 },
            { name: 'Vince', min: 135, max: 180, center: 157.5 },
            { name: 'Fran', min: 180, max: 225, center: 202.5 },
            { name: 'Vince', min: 225, max: 270, center: 247.5 },
            { name: 'Fran', min: 270, max: 315, center: 292.5 },
            { name: 'Vince', min: 315, max: 360, center: 337.5 }
        ];

        // Functie om willekeurig een segment te kiezen
        function selectSegment() {
            const randomIndex = Math.floor(Math.random() * segments.length);
            return segments[randomIndex];
        }

        // Functie om het rad te laten draaien
        function spinWheel() {
            spinButton.disabled = true; // Knop uitschakelen tijdens het draaien

            const winningSegment = selectSegment();
            const winner = winningSegment.name;
            
            // Bepaal de doelhoek: willekeurige hoek binnen het segment
            // We zorgen ervoor dat het in het midden van het segment valt (rond de 'center' waarde)
            const randomOffset = (Math.random() * 30) - 15; // -15 tot +15 graden afwijking van het midden
            let targetAngle = winningSegment.center + randomOffset;

            // Zorg ervoor dat de hoek positief blijft en binnen 0-360 valt
            targetAngle = (targetAngle + 360) % 360;

            // Een willekeurig aantal volledige omwentelingen (bijv. 5 tot 10) voor een "draai-effect"
            const fullSpins = Math.floor(Math.random() * 6) + 5; // 5 tot 10 volledige omwentelingen
            
            // De totale rotatie is (volledige omwentelingen * 360) + (doelhoek)
            // Het wiel draait met de klok mee, dus de pijl wijst naar 0 graden.
            // Als het winnende segment gecentreerd is op 22.5 graden, moet het wiel
            // zoveel gedraaid worden dat 22.5 graden bovenaan komt te staan.
            // Dit betekent dat de rotatie: (fullSpins * 360) - targetAngle
            let degree = (fullSpins * 360) - targetAngle; 

            wheel.style.transform = `rotate(${degree}deg)`;

            // Toon het resultaat na de draaitijd (5 seconden, zoals ingesteld in CSS)
            setTimeout(() => {
                showResult(winner);
            }, 5000); // 5000ms komt overeen met de CSS transition tijd
        }

        // Functie om de winnaar weer te geven
        function showResult(winner) {
            resultTitle.textContent = "ü•≥ We hebben een winnaar! ü•≥";
            winnerText.textContent = `${winner} mag de pamper doen!`;
            resultOverlay.style.display = 'flex'; // Toon de kader
        }

        // Functie om het rad te resetten
        function resetWheel() {
            // Reset de rotatie van het rad
            wheel.style.transition = 'none'; // Schakel de transitie uit voor de reset
            wheel.style.transform = 'rotate(0deg)';
            
            // Verberg de kader
            resultOverlay.style.display = 'none';
            
            // Schakel de knop weer in
            spinButton.disabled = false;

            // Herstel de transitie na een korte vertraging, zodat de reset direct is
            setTimeout(() => {
                wheel.style.transition = 'transform 5s cubic-bezier(0.25, 0.1, 0.25, 1)';
            }, 50);
        }

        // Event listener voor de knop
        spinButton.addEventListener('click', spinWheel);
    </script>

</body>
</html>